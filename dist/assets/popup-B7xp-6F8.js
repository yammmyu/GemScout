import{r as s,j as e,c as g}from"./index-BC9wShz_.js";const b=()=>{const[i,a]=s.useState(!1),[l,o]=s.useState([]),[d,m]=s.useState(""),[n,r]=s.useState("");s.useEffect(()=>{chrome.tabs.query({active:!0,currentWindow:!0},t=>{var c;(c=t[0])!=null&&c.url&&m(t[0].url)})},[]);const x=async()=>{a(!0),r("");try{chrome.runtime.sendMessage({type:"start_discovery"},t=>{if(chrome.runtime.lastError){console.error("Error communicating with background script:",chrome.runtime.lastError),r("Failed to communicate with background script"),a(!1);return}t!=null&&t.success?(console.log("Discovery completed successfully:",t),r(""),o([{title:"Software Engineer",company:"Tech Corp",match:95,url:"#"},{title:"Frontend Developer",company:"StartupXYZ",match:88,url:"#"},{title:"React Developer",company:"BigTech Inc",match:82,url:"#"}])):(console.error("Discovery failed:",t==null?void 0:t.error),r((t==null?void 0:t.error)||"Discovery failed")),a(!1)})}catch(t){console.error("Error starting discovery:",t),r("Unexpected error occurred"),a(!1)}},u=async()=>{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});t.id&&chrome.tabs.sendMessage(t.id,{type:"TOGGLE_OVERLAY"})},h=()=>{chrome.runtime.openOptionsPage()};return e.jsxs("div",{className:"w-96 max-h-96 overflow-y-auto bg-white",children:[e.jsxs("div",{className:"bg-blue-600 text-white p-4",children:[e.jsx("h1",{className:"text-xl font-bold mb-1",children:"GemScout"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"AI Job Discovery Assistant"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Current Page"}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:d||"Loading..."})]}),n&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:n})}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("button",{onClick:x,disabled:i,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded transition-colors",children:i?"Scanning Page...":"Scan Page"}),e.jsx("button",{onClick:u,className:"w-full bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded transition-colors",children:"Toggle Job Overlay"}),e.jsx("button",{onClick:h,className:"w-full bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded transition-colors",children:"Open Settings"})]}),l.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Job Matches"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:l.map((t,c)=>e.jsxs("div",{className:"border rounded-lg p-3 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate",children:t.title}),e.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[t.match,"%"]})]}),e.jsx("p",{className:"text-xs text-gray-600",children:t.company})]},c))})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:l.length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Matches Found"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:"Active"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Status"})]})]})})]})]})},y=document.getElementById("root"),v=g(y);v.render(e.jsx(b,{}));
