import{r as a,j as e,c as u}from"./index-pVOgcizt.js";const h=()=>{const[l,s]=a.useState(!1),[c,n]=a.useState([]),[o,i]=a.useState("");a.useEffect(()=>{chrome.tabs.query({active:!0,currentWindow:!0},t=>{var r;(r=t[0])!=null&&r.url&&i(t[0].url)})},[]);const d=async()=>{s(!0);try{chrome.runtime.sendMessage({type:"start_discovery"},t=>{if(chrome.runtime.lastError){console.error("Error communicating with background script:",chrome.runtime.lastError),s(!1);return}t!=null&&t.success?(console.log("Discovery completed successfully:",t),n([{title:"Software Engineer",company:"Tech Corp",match:95,url:"#"},{title:"Frontend Developer",company:"StartupXYZ",match:88,url:"#"},{title:"React Developer",company:"BigTech Inc",match:82,url:"#"}])):console.error("Discovery failed:",t==null?void 0:t.error),s(!1)})}catch(t){console.error("Error starting discovery:",t),s(!1)}},m=async()=>{const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});t.id&&chrome.tabs.sendMessage(t.id,{type:"TOGGLE_OVERLAY"})},x=()=>{chrome.runtime.openOptionsPage()};return e.jsxs("div",{className:"w-96 max-h-96 overflow-y-auto bg-white",children:[e.jsxs("div",{className:"bg-blue-600 text-white p-4",children:[e.jsx("h1",{className:"text-xl font-bold mb-1",children:"GemScout"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"AI Job Discovery Assistant"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Current Page"}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:o||"Loading..."})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("button",{onClick:d,disabled:l,className:"w-full bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded transition-colors",children:l?"Scanning Page...":"Scan Page"}),e.jsx("button",{onClick:m,className:"w-full bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded transition-colors",children:"Toggle Job Overlay"}),e.jsx("button",{onClick:x,className:"w-full bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded transition-colors",children:"Open Settings"})]}),c.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Job Matches"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:c.map((t,r)=>e.jsxs("div",{className:"border rounded-lg p-3 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate",children:t.title}),e.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[t.match,"%"]})]}),e.jsx("p",{className:"text-xs text-gray-600",children:t.company})]},r))})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:c.length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Matches Found"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:"Active"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Status"})]})]})})]})]})},g=document.getElementById("root"),b=u(g);b.render(e.jsx(h,{}));
